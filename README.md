# social_network_system_design
TravelSocial - Проект, выполняемых в рамках прохождения курса  https://balun.courses/courses/system_design 
от [Balun.Courses](https://balun.courses/). 

Проект представляет собой результат проектирования социальной сети для путешественников, включающий этапы от сбора требований
до проектирования архитектуры самой системы.

Функциональные требования:
- возможность публиковать посты с фотографиями, с описанием(ТЕКСТ) и привязкой к конкретному месту путешествия(create)
- возможность оценивать(КОМЕНТАРИИ) посты свои и других пользователей(create)
- возможность отслеживать(ПОДПИСКИ) на других путешественников, что бы следить за их активностью(read)
- возможность поиска популярных мест для путешествий и просмотр постов с этих мест(read)
- возможность просмотра ленты своей и других пользователей(read)

Не функциональные требования:
- DAU: 10 000 000+
- Аудитория: страны СНГ (на другие страны распространяться планов нет)
- Ограничения:
    - до 10 фото в 1 посте, размер 1 фото не более 2MB 
    - кол-во комментариев - не ограничено, размер комментария не более 50B
    - создание поста по времени 3 сек
    - создание комментария по времени не более 1 сек
    - получение своей ленты и лент других пользователей (с использованием погинации) не бллее 3 сек
    - получение коментариев(с использованием погинации) не более 1 сек
    - поиск локаций по времени не более 1 сек
- Сезонность: время отпусков (лето/зима скорее всего, в x2 больше запросов)
- Активность:
    - Не в сезонность:
        - Пост:
            - коментариев под постом в среднем 10 шт.
            - (create) в среднем 5 раз в день
            - (read) в среднем 20 в день
        - Коментарий:
            - (create) в среднем 10 раз в день
            - (read) в среднем 20 раз в день
        - Поиск:
            - в среднем 5 раз в день
        - Подписка:
            - в среднем 2 раза в день
        - Media-Date:
            - фотографий в 1 посте среднем 3 шт.
            - (create) в среднем 5 раз в день
            - (read) в среднем 20 в день
    - В сезонность:
        - Пост:
            - коментариев под постом в среднем 20 шт.
            - (create) в среднем 10 раз в день
            - (read) в среднем 40 в день
        - Коментарий:
            - (create) в среднем 20 раз в день
            - (read) в среднем 40 раз в день
        - Поиск:
            - в среднем 10 раз в день
        - Подписка:
            - в среднем 4 раза в день
        - Media-Date:
            - фотографий в 1 посте среднем 6 шт.
            - (create) в среднем 10 раз в день
            - (read) в среднем 40 в день

- DateStruct:
    - Пост:
        - id(16B)
        - text(100B)
        - user_id(16B)
        - account_id(16B)
        - created_time(16B)
        - comments = 10 * 100B = 1KB
        - location_link(16B)(скорее всего имеется в виду гиперссылка на условные Yandex карты или другой сервис)
        - Итоговый примерный размер = 16 + 100 + 16 + 16 + 16 + 1 000 + 16 ≈ 1KB
    - Комментарий
        - id(16B)
        - account_id(16B)
        - text(200B)
        - attacment(16B)
        - created_time(16B)
        - change_time(16B)
        - Итоговый примерный размер = 16 + 16 + 200 + 16 ≈ 248B
    - Поиск:
        - location_name(50B)
        - Итоговый примерный размер = 50B
    - Подписка
        - id(16B)
        - account_id(16B)
        - author_id(16B)
        - Итоговый примерный размер = 16 + 16 + 16 ≈ 48B
    - Media-Data:
        - id(16B)
        - photo(2MB) 
        - Итоговый размер = 16B + 2MB ≈ 2MB 
        
- Нагрузка:
    - Не в сезонность
        - Пост:
            - RPS(create) 10 000 000 * 5 / 86 400 ≈ 578
            - RPS(read) 10 000 000 * 20 / 86 400 ≈ 2 314
        - Комментарий:
            - RPS(create) 10 000 000 * 10 / 86 400 ≈ 1 157
            - RPS(read) 10 000 000 * 20 / 86 400 ≈ 2 314
        - Поиск:
            - RPS(read) 10 000 000 * 5 / 86 400 ≈ 578
        - Подписка
            - RPS(create) 10 000 000 * 2 / 86 400 ≈ 231
        - Media-Data:
            - RPS(create) 10 000 000 * 5 / 86 400 ≈ 578
            - RPS(read) 10 000 000 * 20 / 86 400 ≈ 2 314
    - В сезонность:
        - Пост:
            - RPS(create) 10 000 000 * 10 / 86 400 ≈ 1 156
            - RPS(read) 10 000 000 * 40 / 86 400 ≈ 4 628
        - Комментарий:
            - RPS(create) 10 000 000 * 20 / 86 400 ≈ 2 314
            - RPS(read) 10 000 000 * 40 / 86 400 ≈ 4 628
        - Поиск:
            - RPS(read) 10 000 000 * 10 / 86 400 ≈ 1 156
        - Подписка
            - RPS(create) 10 000 000 * 4 / 86 400 ≈ 462
        - Media-Data:
            - RPS(create) 10 000 000 * 10 / 86 400 ≈ 1 156
            - RPS(read) 10 000 000 * 40 / 86 400 ≈ 4 628
    
- Трафик(per/second):
    - Не в сезонность:
        - Посты:
            - (create) 578 * 1KB ≈ 578KB
            - (read) 2 314 * 1KB ≈ 2 314KB
        - Комментарии:
            - (reate) 1 157 * 246B ≈ 284KB
            - (read) 2 314 * 246B ≈ 569KB
        - Поиск:
            - (read) 578 * 50B ≈ 28KB
        - Подписка:
            - (create) 231 * 48B ≈ 11KB
        Media-Data:
            - (create) 578 * (2MB * 3) ≈ 3GB
            - (read) 2 314 * (2MB * 3) ≈ 13GB
    - В сезонность:
        - Посты:
            - (create) 1 156 * 1KB ≈ 1 156KB
            - (read) 4 628 * 1KB ≈ 4 628KB
        - Комментарии:
            - (create) 2 314 * 246B ≈ 569KB
            - (read) 4 628 * 246B ≈ 1MB
        - Поиск:
            - (read) 1 156 * 50B ≈ 57KB
        - Подписка:
            - (create) 462 * 48B ≈ 22KB
        - Media-Data:
            - (create) 1 156 * (2MB * 6) ≈ 14GB
            - (read) 4 628 * (2MB * 6) ≈ 55GB
